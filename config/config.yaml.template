# AIæ–°é—»æ”¶é›†ä¸å½±å“åˆ†æç³»ç»Ÿ - é…ç½®æ¨¡æ¿
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.yaml å¹¶å¡«å…¥çœŸå®é…ç½®

# æ–°é—»æ”¶é›†é…ç½®
news_collection:
  # æ”¶é›†é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  collection_interval: 30
  
  # æ–°é—»æºé…ç½®
  sources:
    # RSSæº
    rss_feeds:
      - name: "è´¢è”ç¤¾RSS"
        url: "https://rsshub.app/cls/telegraph"
        category: "å¿«è®¯"
        enabled: true
      - name: "æ ¼éš†æ±‡RSS"
        url: "https://rsshub.app/gelonghui/live"
        category: "å®æ—¶"
        enabled: true
      - name: "é›ªçƒRSS"
        url: "https://rsshub.app/xueqiu/hots"
        category: "çƒ­å¸–"
        enabled: true
      - name: "æ–°æµªè´¢ç»RSS"
        url: "https://finance.sina.com.cn/roll/index.d.html?cid=56588&page=1"
        category: "è´¢ç»"
        enabled: false  # éœ€è¦é¢å¤–è§£æ
      - name: "æµ‹è¯•RSS"
        url: "https://feeds.bbci.co.uk/news/rss.xml"
        category: "æµ‹è¯•"
        enabled: false  # ä»…ç”¨äºæµ‹è¯•
    
    # APIæº
    api_sources:
      # ä¸œæ–¹è´¢å¯ŒAPIï¼ˆå…è´¹ï¼‰
      eastmoney:
        base_url: "https://push2.eastmoney.com/api/qt/clist/get"
        enabled: true
        params:
          np: 2
          fltt: 1
          invt: 2
    
    # ç½‘é¡µçˆ¬è™«æº
    web_scraping:
      - name: "æ–°æµªè´¢ç»"
        base_url: "https://finance.sina.com.cn"
        selectors:
          title: "h1"
          content: ".article-content"
        enabled: false  # é»˜è®¤å…³é—­ï¼Œé¿å…è¿‡åº¦çˆ¬å–
        delay: 2  # è¯·æ±‚é—´éš”ç§’æ•°
  
  # å†…å®¹è¿‡æ»¤
  filters:
    # Aè‚¡ç›¸å…³å…³é”®è¯
    keywords:
      - "Aè‚¡"
      - "ä¸Šè¯"
      - "æ·±è¯"
      - "åˆ›ä¸šæ¿"
      - "ç§‘åˆ›æ¿"
      - "æ²ªæ·±"
      - "è‚¡å¸‚"
      - "åˆ¸å•†"
      - "åŸºé‡‘"
      - "IPO"
      - "é‡ç»„"
      - "å¹¶è´­"
      - "æ¶¨åœ"
      - "è·Œåœ"
      - "ST"
      - "é€€å¸‚"
      - "ç›‘ç®¡"
      - "è¯ç›‘ä¼š"
      - "å¤®è¡Œ"
      - "é“¶ä¿ç›‘ä¼š"
    
    # æ’é™¤å…³é”®è¯
    exclude_keywords:
      - "æµ‹è¯•"
      - "demo"

# AIåˆ†æé…ç½®
ai_analysis:
  # DeepSeeké…ç½®
  deepseek:
    api_key: "YOUR_DEEPSEEK_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„DeepSeek APIå¯†é’¥
    model: "deepseek-chat"
    base_url: "https://api.deepseek.com/v1"
    max_tokens: 2000
    temperature: 0.1
  
  # åˆ†æå‚æ•°
  analysis_params:
    batch_size: 10  # æ¯æ‰¹åˆ†æçš„æ–°é—»æ•°é‡
    timeout: 30     # è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    retry_count: 3  # é‡è¯•æ¬¡æ•°

# é‚®ä»¶å‘é€é…ç½®
email:
  smtp:
    server: "smtp.163.com"  # 163é‚®ç®±SMTPæœåŠ¡å™¨
    port: 465               # 163é‚®ç®±SSLç«¯å£ï¼ˆæ¨èï¼‰æˆ–587ï¼ˆTLSç«¯å£ï¼‰
    username: "your_email@163.com"  # è¯·æ›¿æ¢ä¸ºä½ çš„163é‚®ç®±åœ°å€
    password: "your_authorization_password"  # è¯·æ›¿æ¢ä¸ºä½ çš„163é‚®ç®±æˆæƒå¯†ç 
    use_tls: true          # 163é‚®ç®±æ”¯æŒTLS/SSL
    use_ssl: false         # å¦‚æœä½¿ç”¨465ç«¯å£ï¼Œè®¾ç½®ä¸ºtrueï¼›587ç«¯å£è®¾ç½®ä¸ºfalse
  
  # æ”¶ä»¶äººåˆ—è¡¨
  recipients:
    - "recipient@example.com"  # è¯·æ›¿æ¢ä¸ºå®é™…æ”¶ä»¶äººé‚®ç®±
  
  # é‚®ä»¶æ¨¡æ¿
  template:
    subject: "ğŸ“Š AIæ–°é—»åˆ†ææŠ¥å‘Š - {date}"
    from_name: "AIæ–°é—»åŠ©æ‰‹"

# æ•°æ®å­˜å‚¨é…ç½®
database:
  # SQLiteé…ç½®
  sqlite:
    db_path: "data/news.db"
    
  # æ•°æ®ä¿ç•™ç­–ç•¥
  retention:
    max_days: 7   # æ–°é—»ä¿ç•™å¤©æ•°
    cleanup_interval: 24  # æ¸…ç†é—´éš”ï¼ˆå°æ—¶ï¼‰

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "data/logs/app.log"
  max_bytes: 10485760  # 10MB
  backup_count: 5

# è°ƒåº¦å™¨é…ç½®
scheduler:
  # åˆ†æä»»åŠ¡é—´éš”ï¼ˆåˆ†é’Ÿï¼‰- ä¸ä½¿ç”¨ï¼Œæ”¹ç”¨å®Œæ•´æµç¨‹
  analysis_interval: 60
  
  # å®Œæ•´æµç¨‹é—´éš”ï¼ˆåˆ†é’Ÿï¼‰- æ–°é—»æ”¶é›†+AIåˆ†æ+ç«‹å³å‘é€é‚®ä»¶
  pipeline_interval: 30  # æ¯30åˆ†é’Ÿæ‰§è¡Œå®Œæ•´æµç¨‹
  
  # é‚®ä»¶å‘é€è®¡åˆ’ï¼ˆcronè¡¨è¾¾å¼ï¼‰- ä¸ä½¿ç”¨ç‹¬ç«‹é‚®ä»¶ä»»åŠ¡
  email_cron: "0 9,18 * * *"  # å¤‡ç”¨ï¼šæ¯å¤©9ç‚¹å’Œ18ç‚¹å‘é€
  
  # é‚®ä»¶æŠ¥å‘ŠåŒ…å«æœ€è¿‘å‡ å°æ—¶çš„åˆ†æ
  email_recent_hours: 1  # åªåŒ…å«æœ€æ–°çš„åˆ†æç»“æœ
  
  # é”™è¯¯é‡è¯•é…ç½®
  retry:
    max_attempts: 3
    retry_delay: 300  # 5åˆ†é’Ÿåé‡è¯•
  
  # ä»»åŠ¡è¶…æ—¶é…ç½®ï¼ˆç§’ï¼‰
  timeouts:
    news_collection: 600    # 10åˆ†é’Ÿ
    ai_analysis: 1800      # 30åˆ†é’Ÿ
    email_sending: 300     # 5åˆ†é’Ÿ

# ç³»ç»Ÿé…ç½®
system:
  timezone: "Asia/Shanghai"
  user_agent: "AI-News-Collector/1.0"
  request_timeout: 30
  max_concurrent_requests: 5 