# AIæ–°é—»æ”¶é›†ä¸å½±å“åˆ†æç³»ç»Ÿ - é…ç½®æ¨¡æ¿
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.yaml å¹¶å¡«å…¥çœŸå®é…ç½®

# æ–°é—»æ”¶é›†é…ç½®
news_collection:
  # æ”¶é›†é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  collection_interval: 30
  
  # æ–°é—»æºé…ç½®
  sources:
    # RSSæº - ä»…ä½¿ç”¨ä¸­å›½æ–°é—»ç½‘è´¢ç»RSS
    rss_feeds:
      - name: "ä¸­å›½æ–°é—»ç½‘è´¢ç»"
        url: "https://www.chinanews.com.cn/rss/finance.xml"
        enabled: true
        max_items: 50
    
    # ç¦ç”¨æ‰€æœ‰APIæº
    api_sources: {}
    
    # ç¦ç”¨ç½‘é¡µçˆ¬è™«æº
    web_scraping: []
  
  # æ•°æ®å¤„ç†é…ç½®
  processing:
    enable_keyword_filtering: false  # ç¦ç”¨å…³é”®è¯è¿‡æ»¤
    enable_deduplication: true       # å¯ç”¨å»é‡åŠŸèƒ½

# AIåˆ†æé…ç½®
ai_analysis:
  # DeepSeeké…ç½®
  deepseek:
    api_key: "YOUR_DEEPSEEK_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„DeepSeek APIå¯†é’¥
    base_url: "https://api.deepseek.com/v1"
    model: "deepseek-chat"  # ä½¿ç”¨deepseek-chatæ¨¡å‹
    thinking_model: "deepseek-reasoner"  # æ€è€ƒæ¨¡å‹ï¼ˆç”¨äºé‡è¦æ€§åˆ†æï¼‰
    fallback_model: "deepseek-chat"  # å¤‡ç”¨æ¨¡å‹
    max_tokens: 2000
    temperature: 0.1
  
  # OpenRouteré…ç½®
  openrouter:
    api_key: "YOUR_OPENROUTER_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„OpenRouter APIå¯†é’¥
    base_url: "https://openrouter.ai/api/v1"
    model: "deepseek/deepseek-r1-0528:free"  # ä½¿ç”¨å…è´¹çš„deepseek-r1æ¨¡å‹
    max_tokens: 10000
    temperature: 0.1
  
  # åˆ†æå‚æ•°
  analysis_params:
    timeout: 600  # è°ƒæ•´ä¸º10åˆ†é’Ÿè¶…æ—¶æ—¶é—´
    fallback_timeout: 600  # å¤‡ç”¨æ¨¡å‹çš„è¶…æ—¶æ—¶é—´ä¹Ÿä¸º10åˆ†é’Ÿ
    batch_size: 10
    max_concurrent: 5  # æœ€å¤§å¹¶å‘åˆ†ææ•°
    enable_retry: true
    retry_attempts: 2
    retry_delay: 1.0
  
  # æ·±åº¦åˆ†æé…ç½®
  deep_analysis:
    enabled: true                    # æ˜¯å¦å¯ç”¨æ·±åº¦åˆ†æ
    score_threshold: 70              # è§¦å‘æ·±åº¦åˆ†æçš„é‡è¦æ€§åˆ†æ•°é˜ˆå€¼
    max_concurrent: 3                # æœ€å¤§å¹¶å‘æ·±åº¦åˆ†ææ•°
    search_timeout: 30               # ç™¾åº¦æœç´¢è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    max_search_keywords: 5           # æœ€å¤§æœç´¢å…³é”®è¯æ•°
    report_max_length: 200           # æ·±åº¦åˆ†ææŠ¥å‘Šæœ€å¤§é•¿åº¦
    enable_score_adjustment: true    # æ˜¯å¦å¯ç”¨åˆ†æ•°é‡æ–°è¯„ä¼°
    search_retry_count: 2            # æœç´¢å¤±è´¥é‡è¯•æ¬¡æ•°
    max_tokens: 100000               # æ·±åº¦åˆ†ææœ€å¤§è¾“å‡ºtoken

# é‚®ä»¶å‘é€é…ç½®
email:
  smtp:
    server: "smtp.163.com"  # 163é‚®ç®±SMTPæœåŠ¡å™¨
    port: 465               # 163é‚®ç®±SSLç«¯å£ï¼ˆæ¨èï¼‰æˆ–587ï¼ˆTLSç«¯å£ï¼‰
    username: "your_email@163.com"  # è¯·æ›¿æ¢ä¸ºä½ çš„163é‚®ç®±åœ°å€
    password: "your_authorization_password"  # è¯·æ›¿æ¢ä¸ºä½ çš„163é‚®ç®±æˆæƒå¯†ç 
    use_tls: true          # 163é‚®ç®±æ”¯æŒTLS/SSL
    use_ssl: false         # å¦‚æœä½¿ç”¨465ç«¯å£ï¼Œè®¾ç½®ä¸ºtrueï¼›587ç«¯å£è®¾ç½®ä¸ºfalse
  
  # æ”¶ä»¶äººåˆ—è¡¨
  recipients:
    - "recipient@example.com"  # è¯·æ›¿æ¢ä¸ºå®é™…æ”¶ä»¶äººé‚®ç®±
  
  # é‚®ä»¶æ¨¡æ¿
  template:
    subject: "ğŸ“Š AIæ–°é—»åˆ†ææŠ¥å‘Š - {date}"
    from_name: "AIæ–°é—»åŠ©æ‰‹"

# æ•°æ®å­˜å‚¨é…ç½®
database:
  # SQLiteé…ç½®
  sqlite:
    db_path: "data/news.db"
    
  # æ•°æ®ä¿ç•™ç­–ç•¥
  retention:
    max_days: 7   # æ–°é—»ä¿ç•™å¤©æ•°ï¼ˆæ”¹ä¸ºä¸€å‘¨ï¼‰
    cleanup_interval: 24  # æ¸…ç†é—´éš”ï¼ˆå°æ—¶ï¼‰

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "data/logs/app.log"
  max_size: "10MB"
  backup_count: 5

# è°ƒåº¦å™¨é…ç½®
scheduler:
  # æ–°çš„è°ƒåº¦ç­–ç•¥
  strategy:
    # æ—©ä¸Š8ç‚¹æ”¶é›†å¹¶å‘é€é‚®ä»¶
    morning_collection:
      enabled: true
      hour: 8
      minute: 0
      send_email: true
    
    # äº¤æ˜“æ—¶é—´æ”¶é›†ï¼ˆ8:00-16:00æ¯3åˆ†é’Ÿï¼‰
    trading_hours:
      enabled: true
      start_hour: 8
      end_hour: 16
      interval_minutes: 3
      send_email: false
    
    # æ™šä¸Š10ç‚¹æ”¶é›†
    evening_collection:
      enabled: true
      hour: 22
      minute: 0
      send_email: false
    
    # æ¯æ—¥æ±‡æ€»é‚®ä»¶ï¼ˆ23:30ï¼‰
    daily_summary:
      enabled: true
      hour: 23
      minute: 30
  
  # é”™è¯¯é‡è¯•é…ç½®
  retry:
    max_attempts: 3
    retry_delay: 300  # 5åˆ†é’Ÿåé‡è¯•
  
  # ä»»åŠ¡è¶…æ—¶é…ç½®ï¼ˆç§’ï¼‰
  timeouts:
    news_collection: 600    # 10åˆ†é’Ÿ
    ai_analysis: 1800      # 30åˆ†é’Ÿ
    email_sending: 300     # 5åˆ†é’Ÿ
  
# æ•°æ®ä¿ç•™é…ç½®
retention:
  max_days: 7                  # æ•°æ®ä¿ç•™å¤©æ•°

# ç³»ç»Ÿé…ç½®
system:
  timezone: "Asia/Shanghai"
  user_agent: "AI-News-Collector/1.0"
  request_timeout: 30
  max_concurrent_requests: 5 